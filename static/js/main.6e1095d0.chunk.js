(this.webpackJsonplending=this.webpackJsonplending||[]).push([[1],{10:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return o}));var a=n(4),r=n.n(a),s=n(6),c=n(28),i=c.create({baseURL:"https://frontend-test-assignment-api.abz.agency/api/v1/"}),u={loadToken:function(){return i.get("token").then((function(t){return t.data}))},loadUsersData:function(t){return i.get("users?page=".concat(t,"&count=6")).then((function(t){return t.data}))},sendRegisterData:function(t){var e=this;return Object(s.a)(r.a.mark((function n(){var a,s,c,u;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.loadToken();case 2:for(u in a=n.sent,s=a.token,c=new FormData,t)c.append(u,t[u]);return n.abrupt("return",i.post("users",c,{headers:{"Content-Type":"application/x-www-form-urlencoded",Token:s}}).then((function(t){return t.data})));case 7:case"end":return n.stop()}}),n)})))()}},o={loadPositionsData:function(){return i.get("positions").then((function(t){return t.data}))}}},12:function(t,e,n){"use strict";n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return j}));var a=n(8),r=n(2),s=n(4),c=n.n(s),i=n(6),u=n(10),o=n(7),p="REGISTER/SET_POSITIONS",d="REGISTER/SET_REGISTER_BUTTON_STATUS",l={positions:[],register_button_status:"disabled"},b=function(t){return{type:d,status:t}},f=function(){return function(){var t=Object(i.a)(c.a.mark((function t(e){var n,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.a.loadPositionsData();case 3:n=t.sent,a=n.positions,e({type:p,positions:a}),e(b("enable")),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),alert(t.t0.response.data.message);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},j=function(t,e){return function(){var n=Object(i.a)(c.a.mark((function n(a){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(b("disabled")),n.next=4,u.b.sendRegisterData(t);case 4:a(Object(o.b)(0)),e({}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),alert(n.t0.response.data.message);case 11:a(b("enable"));case 12:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(t){return n.apply(this,arguments)}}()};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case p:return Object(r.a)(Object(r.a)({},t),{},{positions:Object(a.a)(e.positions)});case d:return Object(r.a)(Object(r.a)({},t),{},{register_button_status:e.status});default:return t}}},37:function(t,e,n){},61:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n(11),s=n.n(r),c=(n(37),n(5)),i=n(14),u=n(2),o=n(12),p=n(7),d="APP/SET_APP_INITIALIZED",l={initialized:!1},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case d:return Object(u.a)(Object(u.a)({},t),{},{initialized:!0});default:return t}},f=n(29),j=Object(c.c)({users:p.a,register:o.a,app:b}),O=Object(c.e)(j,Object(c.a)(f.a)),h=n(3),g=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,121))})),_=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,122))})),v=Object(a.lazy)((function(){return n.e(7).then(n.bind(null,115))})),w=Object(c.d)(Object(i.b)((function(t){return{initialized:t.app.initialized}}),{initializeApp:function(){return function(t){try{var e=t(Object(o.b)()),n=t(Object(p.b)(0));Promise.all([e,n]).then((function(){t({type:d})}))}catch(a){alert(a.response.data.message)}}}}))((function(t){return Object(a.useEffect)((function(){!t.initialized&&t.initializeApp()}),[t.initialized]),Object(h.jsx)("div",{id:"wrapper",children:Object(h.jsxs)(a.Suspense,{fallback:Object(h.jsx)("div",{id:"loading"}),children:[Object(h.jsx)(_,{}),Object(h.jsx)(g,{}),Object(h.jsx)(v,{})]})})})),S=function(){return Object(h.jsx)(i.a,{store:O,children:Object(h.jsx)(w,{})})};s.a.render(Object(h.jsx)(S,{}),document.getElementById("body"))},7:function(t,e,n){"use strict";n.d(e,"b",(function(){return f}));var a=n(8),r=n(2),s=n(4),c=n.n(s),i=n(6),u=n(10),o="USERS/SET_USERS_DATA",p="USERS/SET_SHOW_MORE_STATUS",d={users_data:[],total_pages:0,current_page:0,show_more_status:"disabled"},l=function(t,e,n){return{type:o,new_users:t,total_pages:e,current_page:n}},b=function(t){return{type:p,status:t}},f=function(t){return function(){var e=Object(i.a)(c.a.mark((function e(n){var a,r,s,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(b("disabled")),a=t+1,e.next=5,u.b.loadUsersData(a);case 5:r=e.sent,s=r.users,i=r.total_pages,n(l(s,i,a)),n(b(a>=i?"hide":"enable")),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),alert(e.t0.response.data.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case p:return Object(r.a)(Object(r.a)({},t),{},{show_more_status:e.status});case o:return Object(r.a)(Object(r.a)({},t),{},{users_data:1===e.current_page?Object(a.a)(e.new_users):[].concat(Object(a.a)(t.users_data),Object(a.a)(e.new_users)),total_pages:e.total_pages,current_page:e.current_page});default:return t}}}},[[61,2,3]]]);
//# sourceMappingURL=main.6e1095d0.chunk.js.map